{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/karthik/Desktop/linkedin-clone/frontend/src/components/updateapplicant.component.js\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withRouter } from \"react-router-dom\";\n\nclass updateApplicant extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeName = this.onChangeName.bind(this);\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.onChangeLanguages = this.onChangeLanguages.bind(this);\n    this.onChangeRating = this.onChangeRating.bind(this);\n    this.onChangeEducation = this.onChangeEducation.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.skilladdClick = this.skilladdClick.bind(this);\n    this.skillhandleChange = this.skillhandleChange.bind(this);\n    this.skillremoveClick = this.skillremoveClick.bind(this);\n    this.skillcreateUI = this.skillcreateUI.bind(this);\n    this.languagecreateUI = this.languagecreateUI.bind(this);\n    this.languagehandleChange = this.languagehandleChange.bind(this);\n    this.languageremoveClick = this.languageremoveClick.bind(this);\n    this.languageaddClick = this.languageaddClick.bind(this);\n    this.educationaddClick = this.educationaddClick.bind(this);\n    this.educationcreateUI = this.educationcreateUI.bind(this);\n    this.educationhandleChange = this.educationhandleChange.bind(this);\n    this.educationremoveClick = this.educationremoveClick.bind(this);\n    this.state = {\n      name: '',\n      email: '',\n      password: '',\n      rating: 0,\n      skills: [{\n        skill: ''\n      }],\n      languages: [{\n        language: ''\n      }],\n      education: [{\n        college: \"\",\n        start_year: 0,\n        end_year: 0\n      }],\n      id: '',\n      resume: '',\n      imgencode: ''\n    };\n  }\n\n  componentWillMount() {\n    const TokenVerify = {\n      token: localStorage.getItem('token')\n    };\n    axios.post(\"http://localhost:5000/users/decode\", TokenVerify).then(result => {\n      this.setState({\n        id: result.data.id\n      });\n\n      if (!result.data.id) {\n        alert('Not permitted');\n        this.props.history.push('/');\n      }\n\n      const url = \"http://localhost:5000/applicants/\" + result.data.id;\n      axios.post(url, TokenVerify).then(userdetails => {\n        console.log(userdetails);\n        this.setState({\n          name: userdetails.data.users.name\n        });\n        this.setState({\n          email: userdetails.data.users.email\n        });\n        this.setState({\n          skills: userdetails.data.applicant.skills\n        });\n        this.setState({\n          resume: userdetails.data.applicant.resume\n        });\n        this.setState({\n          imgencode: userdetails.data.users.profile\n        });\n        var skill_set = [];\n        const len1 = userdetails.data.applicant.skills.length;\n\n        if (len1 != 0) {\n          for (var i = 0; i < len1; i++) {\n            skill_set.push({\n              \"skill\": userdetails.data.applicant.skills[i]\n            });\n          }\n\n          this.setState({\n            skills: skill_set\n          });\n        }\n\n        var lang_set = [];\n        const len2 = userdetails.data.applicant.languages.length;\n\n        if (len2 != 0) {\n          for (var i = 0; i < len2; i++) {\n            lang_set.push({\n              \"language\": userdetails.data.applicant.languages[i]\n            });\n          }\n\n          this.setState({\n            languages: lang_set\n          });\n        }\n\n        this.setState({\n          rating: userdetails.data.applicant.rating\n        });\n        this.setState({\n          education: userdetails.data.applicant.education\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  } //Skills UI \n\n\n  skilladdClick() {\n    this.setState(prevState => ({\n      skills: [...prevState.skills, '']\n    }));\n  }\n\n  skillhandleChange(i, e) {\n    const {\n      name,\n      value\n    } = e.target;\n    let skills = [...this.state.skills];\n    skills[i] = { ...skills[i],\n      [name]: value\n    };\n    this.setState({\n      skills\n    });\n  }\n\n  skillremoveClick(i) {\n    let skills = [...this.state.skills];\n    skills.splice(i, 1);\n    this.setState({\n      skills\n    });\n  }\n\n  skillcreateUI() {\n    return this.state.skills.map((el, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Skill\",\n        name: \"skill\",\n        className: \"form-control\",\n        value: el.skill || '',\n        onChange: this.skillhandleChange.bind(this, i)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"button\",\n        className: \"btn btn-secondary\",\n        value: \"remove\",\n        onClick: this.skillremoveClick.bind(this, i)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 14\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }, this));\n  } //Language UI\n\n\n  languageaddClick() {\n    this.setState(prevState => ({\n      languages: [...prevState.languages, '']\n    }));\n  }\n\n  languagehandleChange(i, e) {\n    const {\n      name,\n      value\n    } = e.target;\n    let languages = [...this.state.languages];\n    languages[i] = { ...languages[i],\n      [name]: value\n    };\n    this.setState({\n      languages\n    });\n  }\n\n  languageremoveClick(i) {\n    let languages = [...this.state.languages];\n    languages.splice(i, 1);\n    this.setState({\n      languages\n    });\n  }\n\n  languagecreateUI() {\n    return this.state.languages.map((el, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Language\",\n        name: \"language\",\n        className: \"form-control\",\n        value: el.language || '',\n        onChange: this.languagehandleChange.bind(this, i)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"button\",\n        className: \"btn btn-secondary\",\n        value: \"remove\",\n        onClick: this.languageremoveClick.bind(this, i)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 14\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }, this));\n  } //Education UI\n\n\n  educationaddClick() {\n    this.setState(prevState => ({\n      education: [...prevState.education, {\n        college: \"\",\n        start_year: 0,\n        end_year: 0\n      }]\n    }));\n  }\n\n  educationhandleChange(i, e) {\n    const {\n      name,\n      value\n    } = e.target;\n    let education = [...this.state.education];\n    education[i] = { ...education[i],\n      [name]: value\n    };\n    this.setState({\n      education\n    });\n  }\n\n  educationremoveClick(i) {\n    let education = [...this.state.education];\n    education.splice(i, 1);\n    this.setState({\n      education\n    });\n  }\n\n  educationcreateUI() {\n    return this.state.education.map((el, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex\",\n      children: [\"Education \", i, \":\", /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"College\",\n        name: \"college\",\n        className: \"form-control\",\n        value: el.college || '',\n        onChange: this.educationhandleChange.bind(this, i)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Start Year\",\n        name: \"start_year\",\n        className: \"form-control\",\n        value: el.start_year || this.state.education.start_year,\n        onChange: this.educationhandleChange.bind(this, i)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"End Year\",\n        name: \"end_year\",\n        className: \"form-control\",\n        value: el.end_year || this.state.education.start_year,\n        onChange: this.educationhandleChange.bind(this, i)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"button\",\n        className: \"btn btn-secondary\",\n        value: \"remove\",\n        onClick: this.educationremoveClick.bind(this, i)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 13\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }, this));\n  }\n\n  onChangeName(e) {\n    this.setState({\n      name: e.target.value\n    });\n  }\n\n  onChangeEmail(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  onChangePassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  onChangeEducation(e) {\n    this.setState({\n      education: e.target.value\n    });\n  }\n\n  onChangeLanguages(e) {\n    this.setState({\n      languages: e.target.value\n    });\n  }\n\n  onChangeRating(e) {\n    this.setState({\n      rating: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    if (!this.state.password) {\n      alert('Enter old password/new password for update');\n      window.location.reload(false);\n    }\n\n    e.preventDefault();\n    const len = this.state.education.length;\n\n    if (len != 0) {\n      for (var i = 0; i < len; i++) {\n        this.state.education[i].start_year = this.state.education[i].start_year;\n        this.state.education[i].end_year = this.state.education[i].end_year;\n      }\n    }\n\n    const skill_len = this.state.skills.length;\n    var skill = [];\n\n    if (skill_len != 0) {\n      for (var i = 0; i < skill_len; i++) {\n        skill.push(this.state.skills[i].skill);\n      }\n    }\n\n    var lang = [];\n    const lang_len = this.state.languages.length;\n\n    if (lang_len != 0) {\n      for (var i = 0; i < lang_len; i++) {\n        console.log('In');\n        lang.push(this.state.languages[i].language);\n      }\n    }\n\n    const applicant = {\n      id: this.state.id,\n      name: this.state.name,\n      email: this.state.email,\n      password: this.state.password,\n      skills: skill,\n      languages: lang,\n      rating: this.state.rating,\n      education: this.state.education,\n      token: localStorage.getItem('token'),\n      resume: this.state.resume,\n      imgencode: this.state.imgencode\n    };\n    const url = \"http://localhost:5000/applicants/update/\" + this.state.id;\n    axios.post(url, applicant).then(result => {\n      if (result.data == 1) {\n        alert('Successful');\n        this.props.history.push('/dashboard');\n      } else {\n        console.log(result.data);\n      }\n    }).catch(error => console.log(error));\n    console.log(applicant);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Update applicant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Name: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            value: this.state.name,\n            onChange: this.onChangeName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            required: true,\n            className: \"form-control\",\n            value: this.state.email,\n            onChange: this.onChangeEmail\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            value: this.state.password,\n            onChange: this.onChangePassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 9\n        }, this), this.skillcreateUI(), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          value: \"add\",\n          className: \"btn btn-secondary pull-right\",\n          onClick: this.skilladdClick.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 9\n        }, this), this.languagecreateUI(), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          value: \"add\",\n          className: \"btn btn-secondary pull-right\",\n          onClick: this.languageaddClick.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 9\n        }, this), this.educationcreateUI(), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"button\",\n          value: \"add\",\n          className: \"btn btn-secondary pull-right\",\n          onClick: this.educationaddClick.bind(this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            value: \"Update Applicant\",\n            className: \"btn btn-primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default withRouter(updateApplicant);","map":{"version":3,"sources":["/Users/karthik/Desktop/linkedin-clone/frontend/src/components/updateapplicant.component.js"],"names":["axios","React","Component","Link","withRouter","updateApplicant","constructor","props","onChangeName","bind","onChangeEmail","onChangePassword","onChangeLanguages","onChangeRating","onChangeEducation","onSubmit","skilladdClick","skillhandleChange","skillremoveClick","skillcreateUI","languagecreateUI","languagehandleChange","languageremoveClick","languageaddClick","educationaddClick","educationcreateUI","educationhandleChange","educationremoveClick","state","name","email","password","rating","skills","skill","languages","language","education","college","start_year","end_year","id","resume","imgencode","componentWillMount","TokenVerify","token","localStorage","getItem","post","then","result","setState","data","alert","history","push","url","userdetails","console","log","users","applicant","profile","skill_set","len1","length","i","lang_set","len2","catch","error","prevState","e","value","target","splice","map","el","window","location","reload","preventDefault","len","skill_len","lang","lang_len","render"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withRouter } from \"react-router-dom\";\n\nclass updateApplicant extends Component {\n    constructor(props) {\n        super(props);\n\n        this.onChangeName = this.onChangeName.bind(this);\n        this.onChangeEmail = this.onChangeEmail.bind(this);\n        this.onChangePassword = this.onChangePassword.bind(this);\n        this.onChangeLanguages = this.onChangeLanguages.bind(this);\n        this.onChangeRating = this.onChangeRating.bind(this);\n        this.onChangeEducation = this.onChangeEducation.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.skilladdClick = this.skilladdClick.bind(this);\n        this.skillhandleChange = this.skillhandleChange.bind(this);\n        this.skillremoveClick = this.skillremoveClick.bind(this);\n        this.skillcreateUI = this.skillcreateUI.bind(this);\n        this.languagecreateUI = this.languagecreateUI.bind(this);\n        this.languagehandleChange = this.languagehandleChange.bind(this);\n        this.languageremoveClick = this.languageremoveClick.bind(this);\n        this.languageaddClick = this.languageaddClick.bind(this);\n        this.educationaddClick = this.educationaddClick.bind(this);\n        this.educationcreateUI = this.educationcreateUI.bind(this);\n        this.educationhandleChange = this.educationhandleChange.bind(this);\n        this.educationremoveClick = this.educationremoveClick.bind(this);\n\n        this.state = {\n            name: '',\n            email: '',\n            password: '',\n            rating: 0,\n            skills: [{skill: ''}],\n            languages: [{language: ''}],\n            education: [{college: \"\" , start_year: 0 , end_year: 0}],\n            id: '',\n            resume: '',\n            imgencode: ''\n        }\n    }\n\n    componentWillMount() {\n\n        const TokenVerify = {\n            token: localStorage.getItem('token')\n        };\n\n        axios\n        .post(\"http://localhost:5000/users/decode\" , TokenVerify)\n        .then(result => {\n            this.setState({id: result.data.id});\n            if(!result.data.id)\n            {\n                alert('Not permitted');\n                this.props.history.push('/');\n            }\n            const url = \"http://localhost:5000/applicants/\" + result.data.id;\n            axios\n            .post(url , TokenVerify)\n            .then(userdetails => {\n                console.log(userdetails);\n                this.setState({name: userdetails.data.users.name});\n                this.setState({email: userdetails.data.users.email});\n                this.setState({skills: userdetails.data.applicant.skills});\n                this.setState({resume: userdetails.data.applicant.resume});\n                this.setState({imgencode: userdetails.data.users.profile})\n                var skill_set = []\n                const len1 = userdetails.data.applicant.skills.length;\n                if(len1 != 0 ) {\n                    for(var i = 0 ; i < len1 ; i++)\n                    {\n                        skill_set.push({\"skill\": userdetails.data.applicant.skills[i]});\n                    }\n                    this.setState({skills: skill_set});\n                }\n                var lang_set = [];\n                const len2 = userdetails.data.applicant.languages.length;\n                if(len2 != 0 ) {\n                    for(var i = 0 ; i < len2 ; i++)\n                    {\n                        lang_set.push({\"language\": userdetails.data.applicant.languages[i]});\n                    }\n                    this.setState({languages: lang_set});\n                }\n                this.setState({rating: userdetails.data.applicant.rating});\n                this.setState({education: userdetails.data.applicant.education});\n            })\n            .catch(function(error) {\n                console.log(error);\n            });\n        })\n        .catch(function(error) {console.log(error)});\n\n    }\n    //Skills UI \n    skilladdClick(){\n        this.setState(prevState => ({ \n            skills: [...prevState.skills, '']\n        }))\n    }\n\n    skillhandleChange(i, e) {\n        const { name , value } = e.target;\n        let skills = [...this.state.skills];\n        skills[i] = {...skills[i], [name]: value}; \n        this.setState({ skills });\n    }\n\n    skillremoveClick(i){\n        let skills = [...this.state.skills];\n        skills.splice(i, 1);\n        this.setState({ skills });\n    }\n\n    skillcreateUI(){\n        return this.state.skills.map((el, i) => (\n          <div key={i} className=\"d-flex\">\n             <input placeholder=\"Skill\" name=\"skill\" className=\"form-control\" value={el.skill ||''} onChange={this.skillhandleChange.bind(this, i)} />\n             <input type='button' className=\"btn btn-secondary\" value='remove' onClick={this.skillremoveClick.bind(this, i)}/>\n          </div>          \n        ))\n    }\n\n    //Language UI\n    languageaddClick(){\n        this.setState(prevState => ({ \n            languages: [...prevState.languages, '']\n        }))\n    }\n\n    languagehandleChange(i, e) {\n        const { name, value } = e.target;\n        let languages = [...this.state.languages];\n        languages[i] = {...languages[i], [name]: value};\n        this.setState({ languages });\n    }\n\n    languageremoveClick(i){\n        let languages = [...this.state.languages];\n        languages.splice(i, 1);\n        this.setState({ languages });\n    }\n\n    languagecreateUI(){\n        return this.state.languages.map((el, i) => (\n          <div key={i} className=\"d-flex\">\n             <input placeholder=\"Language\" name=\"language\" className=\"form-control\" value={el.language ||''} onChange={this.languagehandleChange.bind(this, i)} />\n             <input type='button' className=\"btn btn-secondary\" value='remove' onClick={this.languageremoveClick.bind(this, i)}/>\n          </div>          \n        ))\n    }\n\n    //Education UI\n    educationaddClick(){\n        this.setState(prevState => ({ \n            education: [...prevState.education, {college: \"\" , start_year: 0 , end_year: 0}]\n        }))\n    }\n\n    educationhandleChange(i, e) {\n        const { name, value } = e.target;\n        let education = [...this.state.education];\n        education[i] = {...education[i], [name]: value};\n        this.setState({ education });\n    }\n\n    educationremoveClick(i){\n        let education = [...this.state.education];\n        education.splice(i, 1);\n        this.setState({ education });\n    }\n\n    educationcreateUI(){\n        return this.state.education.map((el, i) => (\n          <div key={i} className=\"d-flex\">\n            Education {i}: \n            <input placeholder=\"College\" name=\"college\" className=\"form-control\" value={el.college ||''} onChange={this.educationhandleChange.bind(this, i)} />\n            <input placeholder=\"Start Year\" name=\"start_year\" className=\"form-control\" value={el.start_year || this.state.education.start_year} onChange={this.educationhandleChange.bind(this, i)} />\n            <input placeholder=\"End Year\" name=\"end_year\" className=\"form-control\" value={el.end_year || this.state.education.start_year} onChange={this.educationhandleChange.bind(this, i)} />\n            <input type='button' className=\"btn btn-secondary\" value='remove' onClick={this.educationremoveClick.bind(this, i)}/>\n          </div>          \n        ))\n    }\n\n    onChangeName(e) {\n        this.setState({\n            name: e.target.value\n        });\n    }\n    onChangeEmail(e) {\n        this.setState({\n            email: e.target.value\n        });\n    }\n    onChangePassword(e) {\n        this.setState({\n            password: e.target.value\n        });\n    }\n    onChangeEducation(e) {\n        this.setState({\n            education: e.target.value\n        });\n    }\n    onChangeLanguages(e) {\n        this.setState({\n            languages: e.target.value\n        });\n    }\n    onChangeRating(e) {\n        this.setState({\n            rating: e.target.value\n        });\n    }\n    onSubmit(e) {\n        if(!this.state.password){ \n        alert('Enter old password/new password for update');\n        window.location.reload(false)\n        }\n        e.preventDefault();\n        const len = this.state.education.length;\n        if(len != 0)\n        {\n            for(var i = 0 ; i < len ; i++)\n            {\n                this.state.education[i].start_year = this.state.education[i].start_year;\n                this.state.education[i].end_year =  this.state.education[i].end_year;\n            }\n        }\n\n        const skill_len = this.state.skills.length;\n        var skill = [];\n        if(skill_len != 0)\n        {\n            for(var i = 0 ; i < skill_len ; i++)\n            {\n                skill.push(this.state.skills[i].skill);\n            }\n        }\n        var lang = [];\n        const lang_len = this.state.languages.length;\n        if(lang_len != 0)\n        {\n            for(var i = 0 ; i < lang_len ; i++)\n            {\n                console.log('In');\n                lang.push(this.state.languages[i].language);\n            }\n        }\n        const applicant = {\n            id: this.state.id,\n            name: this.state.name,\n            email: this.state.email,\n            password: this.state.password,\n            skills: skill,\n            languages: lang,\n            rating: this.state.rating,\n            education: this.state.education,\n            token: localStorage.getItem('token'),\n            resume: this.state.resume,\n            imgencode: this.state.imgencode\n        }\n\n        const url = \"http://localhost:5000/applicants/update/\" + this.state.id;\n        axios.post(url, applicant).then(result => { \n            if(result.data == 1) {alert('Successful'); this.props.history.push('/dashboard');}\n            else {console.log(result.data);}\n        })\n        .catch(error => console.log(error));\n        console.log(applicant);\n        \n    }\n    render() {\n        return (\n            <div>\n      <h3>Update applicant</h3>\n      <form onSubmit={this.onSubmit}>\n        <div className=\"form-group\"> \n          <label>Name: </label>\n          <input \n              type=\"text\" \n              className=\"form-control\"\n              value={this.state.name}\n              onChange={this.onChangeName}\n              />\n        </div>\n\n        <div className=\"form-group\"> \n          <label>Email: </label>\n          <input  type=\"text\"\n              required\n              className=\"form-control\"\n              value={this.state.email}\n              onChange={this.onChangeEmail}\n              />\n        </div>\n\n        <div className=\"form-group\">\n          <label>Password: </label>\n          <input \n              type=\"text\" \n              className=\"form-control\"\n              value={this.state.password}\n              onChange={this.onChangePassword}\n              />\n        </div>\n        \n\n        {this.skillcreateUI()}\n        <input type='button' value='add' className=\"btn btn-secondary pull-right\" onClick={this.skilladdClick.bind(this)}/>\n\n        {this.languagecreateUI()}\n        <input type='button' value='add' className=\"btn btn-secondary pull-right\" onClick={this.languageaddClick.bind(this)}/>\n\n        {this.educationcreateUI()}\n        <input type='button' value='add' className=\"btn btn-secondary pull-right\" onClick={this.educationaddClick.bind(this)}/>\n\n        <div className=\"form-group\">\n          <input type=\"submit\" value=\"Update Applicant\" className=\"btn btn-primary\" />\n        </div>\n      </form>\n    </div>\n        )\n    }\n}\n\n\nexport default withRouter(updateApplicant);\n"]},"metadata":{},"sourceType":"module"}