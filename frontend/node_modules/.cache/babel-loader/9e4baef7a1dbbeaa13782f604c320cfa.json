{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/karthik/Desktop/linkedin-clone/frontend/src/components/dashboard.component.js\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { withRouter } from \"react-router-dom\";\nimport Button from 'react-bootstrap/Button';\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.componentWillMount = this.componentWillMount.bind(this);\n    this.renderUser = this.renderUser.bind(this);\n    this.state = {\n      type: '',\n      user: {},\n      loading: true\n    };\n  }\n\n  componentWillMount() {\n    const User = {\n      token: localStorage.getItem(\"token\"),\n      type: localStorage.getItem(\"type\")\n    };\n    const TokenVerify = {\n      token: localStorage.getItem(\"token\")\n    };\n\n    if (!User.token) {\n      alert('Not permitted');\n      this.props.history.push('/');\n    }\n\n    if (User.type === 'Applicant') {\n      this.setState({\n        type: 'Applicant'\n      });\n      axios.post(\"http://localhost:5000/users/decode\", TokenVerify).then(result => {\n        this.setState({\n          id: result.data.id\n        });\n\n        if (!result.data.id) {\n          alert('Not permitted');\n          this.props.history.push('/');\n        }\n\n        const url = \"http://localhost:5000/applicants/\" + result.data.id;\n        console.log(url);\n        axios.post(url, TokenVerify).then(userdetails => {\n          this.setState({\n            user: userdetails.data\n          });\n          console.log(this.state.user.users.name);\n          this.setState({\n            loading: false\n          });\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } else {\n      this.setState({\n        type: 'Recruiter'\n      });\n      axios.post(\"http://localhost:5000/users/decode\", TokenVerify).then(result => {\n        this.setState({\n          id: result.data.id\n        });\n\n        if (!result.data.id) {\n          alert('Not permitted');\n          this.props.history.push('/');\n        }\n\n        const url = \"http://localhost:5000/recruiters/\" + result.data.id;\n        console.log(url);\n        axios.post(url, TokenVerify).then(userdetails => {\n          this.setState({\n            user: userdetails.data\n          });\n          console.log(userdetails.data);\n          this.setState({\n            loading: false\n          });\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n\n  onUpdate(d) {\n    if (this.state.type === 'Applicant') this.props.history.push({\n      pathname: \"/updateapplicant\"\n    });else if (this.state.type === 'Recruiter') this.props.history.push({\n      pathname: \"/updaterecruiter\"\n    });\n  }\n\n  renderProfile(d) {\n    if (!d.hasOwnProperty('profile')) {\n      return '';\n    } else {\n      if (!d.profile) {\n        return '';\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `data:image/jpeg;base64,${d.profile}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 26\n        }, this);\n      }\n    }\n  }\n\n  renderUser() {\n    if (this.state.loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading.....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this);\n    } else if (this.state.type === 'Applicant') {\n      const skillitems = this.state.user.applicant.skills.map(d => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: d\n      }, d, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 76\n      }, this));\n      const langitems = this.state.user.applicant.languages.map(d => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: d\n      }, d, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 78\n      }, this));\n      const edu = this.state.user.applicant.education.map(d => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: d.college\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: d.start_year\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: d.end_year\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)]\n      }, d, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this));\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Hey! You are an applicant!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-bordered\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"table-danger\",\n              children: [\"Name: \", this.state.user.users.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"table-danger\",\n              children: [\"Email: \", this.state.user.users.email]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"table-danger\",\n              children: [\"Rating: \", this.state.user.users.rating]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"table-danger\",\n              children: [\"Skills: \", skillitems]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"table-danger\",\n              children: [\"Languages: \", langitems]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"table-danger\",\n              children: [\"Education: \", /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"table table-bordered\",\n                children: edu\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 61\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          size: \"sm\",\n          variant: \"outline-primary\",\n          onClick: () => this.onUpdate(),\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }, this);\n    } else if (this.state.type === 'Recruiter') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Hey! You are a recruiter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table table-bordered\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"table-danger\",\n              children: [\"Name: \", this.state.user.users.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"table-danger\",\n              children: [\"Email: \", this.state.user.users.email]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"table-danger\",\n              children: [\"Phone: \", this.state.user.recruiter.phone]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"table-danger\",\n              children: [\"Bio: \", this.state.user.recruiter.bio]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 21\n            }, this), this.renderProfile(this.state.user.users), \";\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          size: \"sm\",\n          variant: \"outline-primary\",\n          onClick: () => this.onUpdate(),\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }, this);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.renderUser()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Dashboard);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/karthik/Desktop/linkedin-clone/frontend/src/components/dashboard.component.js"],"names":["axios","React","Component","Link","withRouter","Button","Dashboard","constructor","props","componentWillMount","bind","renderUser","state","type","user","loading","User","token","localStorage","getItem","TokenVerify","alert","history","push","setState","post","then","result","id","data","url","console","log","userdetails","users","name","catch","error","onUpdate","d","pathname","renderProfile","hasOwnProperty","profile","skillitems","applicant","skills","map","langitems","languages","edu","education","college","start_year","end_year","email","rating","recruiter","phone","bio","render"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { withRouter } from \"react-router-dom\";\nimport Button from 'react-bootstrap/Button'\n\n\n\n\nclass Dashboard extends Component {\n    constructor(props) {\n        super(props);\n        this.componentWillMount = this.componentWillMount.bind(this);\n        this.renderUser = this.renderUser.bind(this);\n        this.state = {\n            type: '',\n            user: {},\n            loading: true,\n        };\n    }\n\n    componentWillMount() {\n        const User = {\n          token: localStorage.getItem(\"token\"),\n          type:localStorage.getItem(\"type\")\n        };\n\n        const TokenVerify = {\n            token: localStorage.getItem(\"token\")\n        }\n        \n        if(!User.token)\n        {\n            alert('Not permitted');\n            this.props.history.push('/');\n        }\n\n        if(User.type === 'Applicant') {\n            this.setState({type: 'Applicant'});\n            axios\n                .post(\"http://localhost:5000/users/decode\" , TokenVerify)\n                .then(result => {\n                    this.setState({id: result.data.id});\n                    if(!result.data.id)\n                    {\n                        alert('Not permitted');\n                        this.props.history.push('/');\n                    }\n                    const url = \"http://localhost:5000/applicants/\" + result.data.id;\n                    console.log(url);\n                    axios\n                        .post(url , TokenVerify)\n                        .then(userdetails => {\n                            this.setState({user: userdetails.data});\n                            console.log(this.state.user.users.name);\n                            this.setState({loading: false})\n                        })\n                        .catch(function(error) {\n                            console.log(error);\n                    });\n            \n                })\n                .catch(function(error) {\n                    console.log(error);\n                });\n        }\n\n        else {\n            this.setState({type: 'Recruiter'});\n            axios\n            .post(\"http://localhost:5000/users/decode\" , TokenVerify)\n            .then(result => {\n                this.setState({id: result.data.id});\n                if(!result.data.id)\n                {\n                    alert('Not permitted');\n                    this.props.history.push('/');\n                }\n                const url = \"http://localhost:5000/recruiters/\" + result.data.id;\n                console.log(url);\n                axios\n                    .post(url , TokenVerify)\n                    .then(userdetails => {\n                        this.setState({user: userdetails.data});\n                        console.log(userdetails.data); \n                        this.setState({loading: false});\n                    })\n                    .catch(function(error) {\n                        console.log(error);\n                });\n        \n            })\n            .catch(function(error) {\n                console.log(error);\n            });\n\n        }\n         \n      }\n\n      onUpdate(d) {\n          if(this.state.type === 'Applicant')\n            this.props.history.push({pathname: \"/updateapplicant\" });\n          else if(this.state.type === 'Recruiter')\n            this.props.history.push({pathname: \"/updaterecruiter\" });\n      }\n\n      renderProfile(d) {\n          if(!d.hasOwnProperty('profile'))\n          {\n              return ''\n          }\n          else{\n              if(!d.profile)\n              {\n                  return ''\n              }\n              else{\n                  return <img src={`data:image/jpeg;base64,${d.profile}`} />\n              }\n          }\n      }\n\n      renderUser() { \n        if(this.state.loading)\n        {\n            return(\n                <div>Loading.....</div>\n            )\n        }\n        else if(this.state.type === 'Applicant')\n        {\n            const skillitems = this.state.user.applicant.skills.map((d) => <li key={d}>{d}</li>);\n            const langitems = this.state.user.applicant.languages.map((d) => <li key={d}>{d}</li>);\n            const edu = this.state.user.applicant.education.map((d) => \n                <tr key={d}>\n                    <td>{d.college}</td>\n                    <td>{d.start_year}</td>\n                    <td>{d.end_year}</td>\n                </tr>\n\n            );\n            return (\n            <div className=\"container\">\n            <h1>Hey! You are an applicant!</h1>\n                <table className=\"table table-bordered\">\n                    <tbody>\n                    <tr className=\"table-danger\">Name: {this.state.user.users.name}</tr>\n                    <tr className=\"table-danger\">Email: {this.state.user.users.email}</tr>\n                    <tr className=\"table-danger\">Rating: {this.state.user.users.rating}</tr>\n                    <tr className=\"table-danger\">Skills: {skillitems}</tr>\n                    <tr className=\"table-danger\">Languages: {langitems}</tr>\n                    <tr className=\"table-danger\">Education: <table className=\"table table-bordered\">{edu}</table> </tr>\n                    </tbody>\n                </table>\n            <Button size=\"sm\" variant=\"outline-primary\" onClick={() => this.onUpdate()}>Update</Button>\n            </div>\n            );\n        }\n        else if(this.state.type === 'Recruiter')\n        {\n            return (\n            <div className=\"container\">\n            <h1>Hey! You are a recruiter</h1>\n            <table className=\"table table-bordered\">\n                <tbody>\n                    <tr className=\"table-danger\">Name: {this.state.user.users.name}</tr>\n                    <tr className=\"table-danger\">Email: {this.state.user.users.email}</tr>\n                    <tr className=\"table-danger\">Phone: {this.state.user.recruiter.phone}</tr>\n                    <tr className=\"table-danger\">Bio: {this.state.user.recruiter.bio}</tr>\n                    {this.renderProfile(this.state.user.users)};\n                </tbody>\n            </table>\n            <Button size=\"sm\" variant=\"outline-primary\" onClick={() => this.onUpdate()}>Update</Button>\n            </div>\n            );\n        }\n      }\n    \n    render(){\n        return (\n            <div>\n            {this.renderUser()}\n            </div>\n        )\n    }\n\n}\n\nexport default withRouter(Dashboard);"]},"metadata":{},"sourceType":"module"}