{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/karthik/Desktop/linkedin-clone/frontend/src/components/appviewjob.component.js\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Container from 'react-bootstrap/Container';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { withRouter } from \"react-router-dom\";\nimport StarRatings from 'react-star-ratings';\nimport Button from 'react-bootstrap/Button';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport emailjs from 'emailjs-com';\nimport { init } from 'emailjs-com';\ninit(\"user_QxRnnsjaBgxr7GrTWtJ11\");\n\nclass appViewJob extends Component {\n  constructor(props) {\n    super(props);\n    this.componentWillMount = this.componentWillMount.bind(this);\n    this.renderApps = this.renderApps.bind(this);\n    this.renderAppDetails = this.renderAppDetails.bind(this);\n    this.onAccept = this.onAccept.bind(this);\n    this.onReject = this.onReject.bind(this);\n    this.onShortlist = this.onShortlist.bind(this);\n    this.onChangeSortBy = this.onChangeSortBy.bind(this);\n    this.onChangeSortIn = this.onChangeSortIn.bind(this);\n    this.clearSort = this.clearSort.bind(this);\n    this.state = {\n      loading: true,\n      applicants: {},\n      applications: {},\n      users: {},\n      sortby: '',\n      sortin: 'asc',\n      sorted_app: [],\n      clear_sorted: 1,\n      id: '',\n      rec_name: ''\n    };\n  }\n\n  componentWillMount() {\n    const User = {\n      token: localStorage.getItem('token'),\n      type: localStorage.getItem('type')\n    };\n    const tokenVerify = {\n      token: localStorage.getItem('token')\n    };\n\n    if (User.type !== 'Recruiter' || !User.token) {\n      alert('Not Permitted');\n      this.props.history.push('/login');\n    }\n\n    const jobid = this.props.location.state;\n\n    if (!jobid) {\n      this.props.history.push('/jobview');\n    }\n\n    const url = \"http://localhost:5000/jobs/\" + jobid + \"/applications\";\n    axios.post(url, tokenVerify).then(results => {\n      if (results.data == 1) {\n        alert('Not Permitted');\n        this.props.history.push('/login');\n      } else {\n        this.setState({\n          applicants: results.data.applicants\n        });\n        this.setState({\n          applications: results.data.applications\n        });\n        this.setState({\n          users: results.data.users\n        });\n        axios.post(\"http://localhost:5000/users/decode\", tokenVerify).then(usr => {\n          this.setState({\n            id: usr.data.id\n          });\n          const url1 = \"http://localhost:5000/recruiters/\" + usr.data.id;\n          axios.post(url1, tokenVerify).then(user => {\n            this.setState({\n              rec_name: user.data.users.name\n            });\n          }).catch(error => console.log(error));\n        }).catch(error => console.log(error));\n        this.setState({\n          loading: false\n        });\n      }\n    }).catch(error => console.log(error));\n  }\n\n  onAccept(d) {\n    console.log('Accept');\n    const url = 'http://localhost:5000/jobs/updateapplication/' + d._id;\n    const details = {\n      accept: 2,\n      token: localStorage.getItem('token')\n    };\n    axios.post(url, details).then(result => {\n      if (result.data == 1) alert('Try again, something went wrong!');else {\n        emailjs.send(\"service_isjur45\", \"template_t2qvb4s\", {\n          email: this.getApplicantDetails(d.applicant).email,\n          recruiter: this.state.rec_name\n        }).then(emailed => console.log(emailed)).catch(error => console.log(error));\n        alert(result.data);\n        this.props.history.push({\n          pathname: '/jobview',\n          state: d._id\n        });\n      }\n    }).catch(error => console.log(error));\n  }\n\n  onShortlist(d) {\n    console.log('Shortlist');\n    const url = 'http://localhost:5000/jobs/updateapplication/' + d._id;\n    const details = {\n      accept: 1,\n      token: localStorage.getItem('token')\n    };\n    axios.post(url, details).then(result => {\n      if (result.data == 1) alert('Try again, something went wrong!');\n      if (result.data == 2) alert('Surpassed count for acceptance');else {\n        alert(result.data);\n        this.props.history.push({\n          pathname: '/jobview',\n          state: d._id\n        });\n      }\n    }).catch(error => console.log(error));\n  }\n\n  onReject(d) {\n    console.log('Reject');\n    const url = 'http://localhost:5000/jobs/updateapplication/' + d._id;\n    const details = {\n      accept: 3,\n      token: localStorage.getItem('token')\n    };\n    axios.post(url, details).then(result => {\n      if (result.data == 1) alert('Try again, something went wrong!');else {\n        alert(result.data);\n        this.props.history.push({\n          pathname: '/jobview',\n          state: d._id\n        });\n      }\n    }).catch(error => console.log(error));\n  }\n\n  onRenderButtons(d) {\n    if (d.accept == 0) {\n      return /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          size: \"sm\",\n          variant: \"outline-warning\",\n          onClick: () => this.onShortlist(d),\n          children: \"Shortlist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 17\n        }, this), ' ', /*#__PURE__*/_jsxDEV(Button, {\n          size: \"sm\",\n          variant: \"outline-danger\",\n          onClick: () => this.onReject(d),\n          children: \"Reject\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this);\n    }\n\n    if (d.accept == 1) {\n      return /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          size: \"sm\",\n          variant: \"outline-primary\",\n          onClick: () => this.onAccept(d),\n          children: \"Accept\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 17\n        }, this), ' ', /*#__PURE__*/_jsxDEV(Button, {\n          size: \"sm\",\n          variant: \"outline-danger\",\n          onClick: () => this.onReject(d),\n          children: \"Reject\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }, this);\n    }\n\n    if (d.accept == 2) {\n      return '';\n    }\n  }\n\n  onChangeSortBy(e) {\n    this.setState({\n      sortby: e\n    });\n  }\n\n  onChangeSortIn(e) {\n    this.setState({\n      sortin: e\n    });\n  }\n\n  onClearSorted(e) {\n    this.setState({\n      clear_sorted: 1\n    });\n  }\n\n  async clearSort() {\n    await this.setState({\n      clear_sorted: 1\n    });\n    await this.setState({\n      sorted_app: []\n    });\n  }\n\n  getApplicantDetails(applicantid) {\n    const len = this.state.applicants.length;\n\n    if (len != 0) {\n      for (var i = 0; i < len; i++) {\n        if (this.state.applicants[i].usrid === applicantid) {\n          const applicantDetails = {\n            skills: this.state.applicants[i].skills,\n            education: this.state.applicants[i].education,\n            languages: this.state.applicants[i].languages,\n            email: this.getUserDetails(applicantid, 'email'),\n            name: this.getUserDetails(applicantid, 'name'),\n            rating: this.state.applicants[i].rating,\n            usrid: this.state.applicants[i].usrid\n          };\n          return applicantDetails;\n        }\n      }\n    }\n  }\n\n  getUserDetails(userid, attr) {\n    const len = this.state.users.length;\n\n    if (len != 0) {\n      for (var i = 0; i < len; i++) {\n        if (this.state.users[i]._id === userid) {\n          if (attr === 'email') {\n            return this.state.users[i].email;\n          }\n\n          if (attr === 'name') {\n            return this.state.users[i].name;\n          }\n        }\n      }\n    }\n  }\n\n  getStatus(status) {\n    if (status == 0) return 'Submitted!';else if (status == 1) return 'Shortlisted!';else if (status == 2) return 'Accepted!';else if (status == 3) return 'Rejected :(';\n  }\n\n  changeRating(newRating, name) {\n    const url = \"http://localhost:5000/applicants/updateratings/\" + name;\n    const requirements = {\n      token: localStorage.getItem('token'),\n      rating: newRating\n    };\n    axios.post(url, requirements).then(result => {\n      if (result.data == 1) {\n        alert('Not Authorized!');\n        this.props.history.push('/login');\n      } else if (result.data == 2) {\n        alert('Already Rated');\n      } else {\n        alert('Successful!');\n        window.location.reload(false);\n      }\n    });\n  }\n\n  onSort(sortby, sortin) {\n    this.setState({\n      loading: true\n    });\n    this.setState({\n      sorted_app: this.state.applications\n    });\n\n    if (sortby === 'Rating') {\n      if (sortin === \"asc\") {\n        this.state.sorted_app.sort((a, b) => {\n          if (this.getApplicantDetails(a.applicant).rating > this.getApplicantDetails(b.applicant).rating) {\n            return 1;\n          } else if (this.getApplicantDetails(a.applicant).rating < this.getApplicantDetails(b.applicant).rating) {\n            return -1;\n          } else return 0;\n        });\n      } else if (sortin === \"des\") {\n        this.state.sorted_app.sort((a, b) => {\n          if (this.getApplicantDetails(a.applicant).rating > this.getApplicantDetails(b.applicant).rating) {\n            return -1;\n          } else if (this.getApplicantDetails(a.applicant).rating < this.getApplicantDetails(b.applicant).rating) {\n            return +1;\n          } else return 0;\n        });\n      }\n    }\n\n    if (sortby === 'Date') {\n      if (sortin === \"asc\") {\n        this.state.sorted_app.sort((a, b) => {\n          if (a.applied > b.applied) {\n            return 1;\n          } else if (a.applied < b.applied) {\n            return -1;\n          } else return 0;\n        });\n      } else if (sortin === \"des\") {\n        this.state.sorted_app.sort((a, b) => {\n          if (a.applied > b.applied) {\n            return -1;\n          } else if (a.applied < b.applied) {\n            return +1;\n          } else return 0;\n        });\n      }\n    }\n\n    if (sortby === 'Name') {\n      if (sortin === \"asc\") {\n        this.state.sorted_app.sort((a, b) => {\n          if (this.getApplicantDetails(a.applicant).name.toLowerCase() > this.getApplicantDetails(b.applicant).name.toLowerCase()) {\n            return 1;\n          } else if (this.getApplicantDetails(a.applicant).name.toLowerCase() < this.getApplicantDetails(b.applicant).name.toLowerCase()) {\n            return -1;\n          } else return 0;\n        });\n      } else if (sortin === \"des\") {\n        this.state.sorted_app.sort((a, b) => {\n          if (this.getApplicantDetails(a.applicant).name.toLowerCase() > this.getApplicantDetails(b.applicant).name.toLowerCase()) {\n            return -1;\n          } else if (this.getApplicantDetails(a.applicant).name.toLowerCase() < this.getApplicantDetails(b.applicant).name.toLowerCase()) {\n            return 1;\n          } else return 0;\n        });\n      }\n    }\n\n    this.setState({\n      loading: false\n    });\n    this.setState({\n      clear_sorted: 0\n    });\n  }\n\n  checkresume(d) {\n    const path = '../backend/public/' + d.applicant + '.pdf';\n\n    const url = require(path);\n\n    if (!url.existsSync) {\n      return '';\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.downloadResume(d),\n        className: \"btn btn-primary\",\n        children: \"Download Resume\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 19\n      }, this);\n    }\n  }\n\n  downloadResume(d) {\n    const url = '../backend/public/' + d.applicant + '.pdf';\n    let link = document.createElement(\"a\");\n    link.download = url;\n    let blob = new Blob([\"Hello, world!\"], {\n      type: \"text/plain\"\n    });\n    link.href = URL.createObjectURL(blob);\n    link.click();\n    URL.revokeObjectURL(link.href);\n  }\n\n  renderAppDetails(d) {\n    if (d.accept == 3) {\n      return '';\n    }\n\n    const appl = this.getApplicantDetails(d.applicant);\n    const skill_render = appl.skills.map(d => /*#__PURE__*/_jsxDEV(\"li\", {\n      children: d\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 53\n    }, this));\n    const lang_render = appl.languages.map(d => /*#__PURE__*/_jsxDEV(\"li\", {\n      children: d\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 55\n    }, this));\n    const edu_render = appl.education.map(d => /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: [d.college, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: d.start_year\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: [d.end_year, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 9\n    }, this));\n    console.log(skill_render);\n    return /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table table-bordered\",\n      children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"table-danger\",\n          children: [\"Name: \", appl.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"table-danger\",\n          children: [\"Name: \", appl.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"table-danger\",\n          children: [\"Date applied: \", d.applied]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"table-danger\",\n          children: [\"SOP: \", /*#__PURE__*/_jsxDEV(\"table\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              children: d.sop\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 62\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 55\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"table-danger\",\n          children: [\"Skills: \", skill_render]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"table-danger\",\n          children: [\"Languages: \", lang_render]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"table-danger\",\n          children: [\"Education: \", edu_render]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"table-danger\",\n          children: [\"Status:  \", this.getStatus(d.accept)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 21\n        }, this), this.checkresume(d), this.onRenderButtons(d)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 9\n    }, this);\n  }\n\n  renderApps() {\n    if (this.state.loading || !this.state.applications) {\n      console.log(localStorage.getItem(\"type\"));\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading ...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 17\n      }, this);\n    } else if (localStorage.getItem(\"type\") === 'Recruiter' && this.state.clear_sorted == 1) {\n      console.log('Clear Sorted invoked');\n      const apps = this.state.applications.map(d => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", this.renderAppDetails(d), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 13\n      }, this));\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: apps\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 17\n      }, this);\n    } else if (localStorage.getItem(\"type\") === 'Recruiter' && this.state.clear_sorted == 0) {\n      const apps = this.state.sorted_app.map(d => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", this.renderAppDetails(d), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 13\n      }, this));\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: apps\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"btn btn-primary col px-md-5 p-3 border\",\n        \"data-toggle\": \"collapse\",\n        href: \"#collapseExample\",\n        role: \"button\",\n        \"aria-expanded\": \"false\",\n        \"aria-controls\": \"collapseExample\",\n        children: \"Filter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-row collapse\",\n        id: \"collapseExample\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex flex-column p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Sort by: \", this.state.sortby]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(DropdownButton, {\n                alignRight: true,\n                title: \"Sort by\",\n                id: \"dropdown\",\n                value: this.state.sortby,\n                onSelect: this.onChangeSortBy,\n                children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  eventKey: \"Rating\",\n                  children: \"Rating\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Divider, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  eventKey: \"Name\",\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Divider, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  eventKey: \"Date\",\n                  children: \"Application date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: [\"Sort in: \", this.state.sortin]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(DropdownButton, {\n                alignRight: true,\n                title: \"Sort in\",\n                id: \"dropdown\",\n                value: this.state.sortin,\n                onSelect: this.onChangeSortIn,\n                children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  eventKey: \"asc\",\n                  children: \"Ascending\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Divider, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                  eventKey: \"des\",\n                  children: \"Descending\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-2\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                size: \"sm\",\n                variant: \"outline-primary\",\n                onClick: () => this.onSort(this.state.sortby, this.state.sortin),\n                children: \"Sort\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 align-self-center\",\n        children: this.renderApps()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default withRouter(appViewJob);","map":{"version":3,"sources":["/Users/karthik/Desktop/linkedin-clone/frontend/src/components/appviewjob.component.js"],"names":["axios","React","Component","Link","Container","withRouter","StarRatings","Button","DropdownButton","Dropdown","emailjs","init","appViewJob","constructor","props","componentWillMount","bind","renderApps","renderAppDetails","onAccept","onReject","onShortlist","onChangeSortBy","onChangeSortIn","clearSort","state","loading","applicants","applications","users","sortby","sortin","sorted_app","clear_sorted","id","rec_name","User","token","localStorage","getItem","type","tokenVerify","alert","history","push","jobid","location","url","post","then","results","data","setState","usr","url1","user","name","catch","error","console","log","d","_id","details","accept","result","send","email","getApplicantDetails","applicant","recruiter","emailed","pathname","onRenderButtons","e","onClearSorted","applicantid","len","length","i","usrid","applicantDetails","skills","education","languages","getUserDetails","rating","userid","attr","getStatus","status","changeRating","newRating","requirements","window","reload","onSort","sort","a","b","applied","toLowerCase","checkresume","path","require","existsSync","downloadResume","link","document","createElement","download","blob","Blob","href","URL","createObjectURL","click","revokeObjectURL","appl","skill_render","map","lang_render","edu_render","college","start_year","end_year","sop","apps","render"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Container from 'react-bootstrap/Container'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { withRouter } from \"react-router-dom\";\nimport StarRatings from 'react-star-ratings';\nimport Button from 'react-bootstrap/Button';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport emailjs from 'emailjs-com';\nimport{ init } from 'emailjs-com';\ninit(\"user_QxRnnsjaBgxr7GrTWtJ11\");\n\n\n\nclass appViewJob extends Component {\n    constructor(props) {\n        super(props);\n        this.componentWillMount = this.componentWillMount.bind(this);\n        this.renderApps = this.renderApps.bind(this);\n        this.renderAppDetails = this.renderAppDetails.bind(this);\n        this.onAccept = this.onAccept.bind(this);\n        this.onReject = this.onReject.bind(this);\n        this.onShortlist = this.onShortlist.bind(this);\n        this.onChangeSortBy = this.onChangeSortBy.bind(this);\n        this.onChangeSortIn = this.onChangeSortIn.bind(this);\n        this.clearSort = this.clearSort.bind(this);\n        this.state = {\n            loading: true,\n            applicants: {},\n            applications: {},\n            users: {},\n            sortby: '',\n            sortin: 'asc',\n            sorted_app: [],\n            clear_sorted: 1,\n            id: '',\n            rec_name: ''\n        }\n    }\n\n    componentWillMount() {\n\n        const User = {\n            token: localStorage.getItem('token'),           \n            type: localStorage.getItem('type')\n        }\n\n        const tokenVerify = {\n            token: localStorage.getItem('token')\n        }\n\n        if(User.type !== 'Recruiter' || !User.token)\n        {\n            alert('Not Permitted');\n            this.props.history.push('/login');\n        }\n\n        const jobid = this.props.location.state;\n        if(!jobid)\n        {\n            this.props.history.push('/jobview');\n        }\n        const url = \"http://localhost:5000/jobs/\" + jobid + \"/applications\";     \n        axios.post(url , tokenVerify)\n        .then(results => {\n            if(results.data == 1) {\n                alert('Not Permitted');\n                this.props.history.push('/login');\n            }\n\n            else {\n                this.setState({applicants: results.data.applicants});\n                this.setState({applications: results.data.applications});\n                this.setState({users: results.data.users});\n                axios.post(\"http://localhost:5000/users/decode\" , tokenVerify)\n                .then(usr => {\n                    this.setState({id: usr.data.id});\n                    const url1 = \"http://localhost:5000/recruiters/\" + usr.data.id\n                    axios.post(url1 , tokenVerify)\n                    .then(user => {\n                        this.setState({rec_name: user.data.users.name});\n                    })\n                    .catch((error) => console.log(error));\n                })\n                .catch((error) => console.log(error));\n                this.setState({loading: false});\n            }\n        })\n        .catch((error) => console.log(error));\n\n    }\n\n    onAccept(d) {\n        console.log('Accept');\n        const url = 'http://localhost:5000/jobs/updateapplication/' + d._id;\n        const details = {\n            accept: 2,\n            token: localStorage.getItem('token')\n        }\n        axios.post(url , details)\n        .then(result => {\n            if(result.data == 1) alert('Try again, something went wrong!');\n            else{\n                emailjs.send(\"service_isjur45\",\"template_t2qvb4s\",{\n                    email: this.getApplicantDetails(d.applicant).email,\n                    recruiter: this.state.rec_name\n                })\n                .then(emailed => console.log(emailed))\n                .catch((error) => console.log(error));\n                alert(result.data);\n                this.props.history.push({pathname: '/jobview' , state: d._id});\n            }\n        })\n        .catch((error) => console.log(error));\n    }\n\n    onShortlist(d) {\n        console.log('Shortlist');\n        const url = 'http://localhost:5000/jobs/updateapplication/' + d._id;\n        const details = {\n            accept: 1,\n            token: localStorage.getItem('token')\n        }\n        axios.post(url , details)\n        .then(result => {\n            if(result.data == 1) alert('Try again, something went wrong!');\n            if(result.data == 2) alert('Surpassed count for acceptance');\n            else{\n                alert(result.data);\n                this.props.history.push({pathname: '/jobview' , state: d._id});\n            }\n        })\n        .catch((error) => console.log(error));\n    }\n\n    onReject(d) {\n        console.log('Reject');\n        const url = 'http://localhost:5000/jobs/updateapplication/' + d._id;\n        const details = {\n            accept: 3,\n            token: localStorage.getItem('token')\n        }\n        axios.post(url , details)\n        .then(result => {\n            if(result.data == 1) alert('Try again, something went wrong!');\n            else{\n                alert(result.data);\n                this.props.history.push({pathname: '/jobview' , state: d._id});\n            }\n        })\n        .catch((error) => console.log(error));\n    }\n\n    onRenderButtons(d) {\n\n        if(d.accept == 0)\n        {\n            return (\n                <Container>\n                <Button size=\"sm\" variant=\"outline-warning\" onClick={() => this.onShortlist(d)}>Shortlist</Button>{' '}\n                <Button size=\"sm\" variant=\"outline-danger\" onClick={() => this.onReject(d)}>Reject</Button>\n                </Container>\n            )\n        }\n\n        if(d.accept == 1)\n        {\n            return (\n                <Container>\n                <Button size=\"sm\" variant=\"outline-primary\" onClick={() => this.onAccept(d)}>Accept</Button>{' '}\n                <Button size=\"sm\" variant=\"outline-danger\" onClick={() => this.onReject(d)}>Reject</Button>\n                </Container>\n            )\n        }\n\n        if(d.accept == 2)\n        {\n            return (\n                ''\n            )\n        }\n    }\n\n    onChangeSortBy(e){\n        this.setState({\n            sortby: e\n        })\n    }\n\n    onChangeSortIn(e){\n        this.setState({\n            sortin: e\n        })\n    }\n\n    onClearSorted(e){\n        this.setState({\n            clear_sorted: 1\n        })\n    }\n\n    async clearSort() {\n\n        await this.setState({\n            clear_sorted: 1\n        });\n        await this.setState({\n            sorted_app: []\n        })\n    }\n\n    getApplicantDetails(applicantid) {\n        const len = this.state.applicants.length;\n        if(len != 0) {\n            for(var i = 0 ; i < len ; i++)\n            {\n                if(this.state.applicants[i].usrid === applicantid) {\n                    const applicantDetails = {\n                        skills: this.state.applicants[i].skills,\n                        education: this.state.applicants[i].education,\n                        languages: this.state.applicants[i].languages,\n                        email: this.getUserDetails(applicantid , 'email'),\n                        name: this.getUserDetails(applicantid , 'name'),\n                        rating: this.state.applicants[i].rating,\n                        usrid: this.state.applicants[i].usrid\n                    }\n                    return applicantDetails;\n                }\n            }\n        }\n\n    }\n\n    getUserDetails(userid , attr) {\n        const len = this.state.users.length;\n        if(len != 0) {\n            for(var i = 0 ; i < len ; i++)\n            {\n                if(this.state.users[i]._id === userid)\n                {\n                    if(attr === 'email')\n                    {\n                        return this.state.users[i].email;\n                    }\n\n                    if(attr === 'name')\n                    {\n                        return this.state.users[i].name;\n                    }\n                }\n            }\n        }\n    }\n\n    getStatus(status) {\n\n        if(status == 0)\n            return 'Submitted!';\n        else if(status == 1)\n            return 'Shortlisted!';\n        else if(status == 2)\n            return 'Accepted!';\n        else if(status == 3)\n            return 'Rejected :(';\n    }\n\n    changeRating( newRating , name ) {\n        const url = \"http://localhost:5000/applicants/updateratings/\" + name;\n        const requirements = {\n            token: localStorage.getItem('token'),\n            rating: newRating\n        };\n        axios.post(url , requirements)\n        .then(result => {\n            if(result.data == 1)\n            {\n                alert('Not Authorized!');\n                this.props.history.push('/login');\n            }\n            else if(result.data == 2)\n            {\n                alert('Already Rated');\n            }\n            else{\n                alert('Successful!');\n                window.location.reload(false);\n            }\n        })\n    }\n\n    onSort(sortby, sortin){\n        this.setState({loading: true});\n        this.setState({sorted_app: this.state.applications});\n        if(sortby === 'Rating')\n        {\n            if(sortin === \"asc\")\n            {\n                this.state.sorted_app.sort((a,b) =>  {\n                    if(this.getApplicantDetails(a.applicant).rating > this.getApplicantDetails(b.applicant).rating) {return 1} \n                    else if(this.getApplicantDetails(a.applicant).rating < this.getApplicantDetails(b.applicant).rating) {return -1}\n                    else return 0\n                }   \n                );\n            }\n\n            else if(sortin === \"des\")\n            {\n                this.state.sorted_app.sort((a,b) =>  {\n                    if(this.getApplicantDetails(a.applicant).rating > this.getApplicantDetails(b.applicant).rating) {return -1} \n                    else if(this.getApplicantDetails(a.applicant).rating < this.getApplicantDetails(b.applicant).rating) {return +1}\n                    else return 0\n                }   \n                );\n            }\n        }\n\n        if(sortby === 'Date')\n        {\n            if(sortin === \"asc\")\n            {\n                this.state.sorted_app.sort((a,b) =>  {\n                    if(a.applied > b.applied) {return 1} \n                    else if(a.applied < b.applied) {return -1}\n                    else return 0\n                }   \n                );\n            }\n\n            else if(sortin === \"des\")\n            {\n                this.state.sorted_app.sort((a,b) =>  {\n                    if(a.applied > b.applied) {return -1} \n                    else if(a.applied < b.applied) {return +1}\n                    else return 0\n                }   \n                );\n            }\n        }\n\n        if(sortby === 'Name')\n        {\n            if(sortin === \"asc\")\n            {\n                this.state.sorted_app.sort((a,b) =>  {\n                    if(this.getApplicantDetails(a.applicant).name.toLowerCase()> this.getApplicantDetails(b.applicant).name.toLowerCase()) {return 1} \n                    else if(this.getApplicantDetails(a.applicant).name.toLowerCase() < this.getApplicantDetails(b.applicant).name.toLowerCase()) {return -1}\n                    else return 0\n                }   \n                );\n            }\n\n            else if(sortin === \"des\")\n            {\n                this.state.sorted_app.sort((a,b) =>  {\n                    if(this.getApplicantDetails(a.applicant).name.toLowerCase() > this.getApplicantDetails(b.applicant).name.toLowerCase()) {return -1} \n                    else if(this.getApplicantDetails(a.applicant).name.toLowerCase() < this.getApplicantDetails(b.applicant).name.toLowerCase()) {return 1}\n                    else return 0\n                }   \n                );\n            }\n        }\n        this.setState({loading: false});\n        this.setState({clear_sorted: 0});\n    };\n\n    checkresume(d) {\n        const path = '../backend/public/' + d.applicant + '.pdf'\n        const url = require(path);\n        if(!url.existsSync)\n        {\n            return '';\n        }\n        else\n        {\n           return(<button onClick={this.downloadResume(d)} className=\"btn btn-primary\">Download Resume</button>)     \n        }\n    }\n\n    downloadResume(d){\n        const url = '../backend/public/' + d.applicant + '.pdf';\n        let link = document.createElement(\"a\");\n        link.download = url;\n        let blob = new Blob([\"Hello, world!\"], { type: \"text/plain\" });\n        link.href = URL.createObjectURL(blob);\n        link.click();\n        URL.revokeObjectURL(link.href);\n    }\n\n    renderAppDetails(d) {\n        if(d.accept == 3)\n        {\n            return '';\n        }\n        const appl = this.getApplicantDetails(d.applicant);\n        const skill_render = appl.skills.map((d) => <li>{d}</li>);\n        const lang_render = appl.languages.map((d) => <li>{d}</li>);\n        const edu_render = appl.education.map((d) =>\n        <tr>\n        <td>{d.college} </td>\n        <td>{d.start_year}</td>\n        <td>{d.end_year} </td>\n        </tr>\n        );\n        console.log(skill_render);\n        return (\n        <table className=\"table table-bordered\">\n                    <tbody>\n                    <tr className=\"table-danger\">Name: {appl.name}</tr>\n                    <tr className=\"table-danger\">Name: {appl.email}</tr>\n                    <tr className=\"table-danger\">Date applied: {d.applied}</tr>\n                    <tr className=\"table-danger\">SOP: <table><td>{d.sop}</td></table> </tr>\n                    <tr className=\"table-danger\">Skills: {skill_render}</tr>\n                    <tr className=\"table-danger\">Languages: {lang_render}</tr>\n                    <tr className=\"table-danger\">Education: {edu_render}</tr>\n                    <tr className=\"table-danger\">Status:  {this.getStatus(d.accept)}</tr>\n                    {this.checkresume(d)}\n                    {this.onRenderButtons(d)}\n                    </tbody>\n        </table>\n        );\n    };\n\n    renderApps(){\n\n        if(this.state.loading || !this.state.applications)\n        {\n            console.log(localStorage.getItem(\"type\"));\n            return (\n                <div>Loading ...</div>\n            );\n            \n        }\n\n        else if(localStorage.getItem(\"type\") === 'Recruiter' && this.state.clear_sorted == 1)\n        {\n            console.log('Clear Sorted invoked');\n            const apps = this.state.applications.map((d) => \n            <div> {this.renderAppDetails(d)} </div>\n            );\n            return (\n                <div>{apps}</div>\n            );\n        }\n\n        else if(localStorage.getItem(\"type\") === 'Recruiter' && this.state.clear_sorted == 0)\n        {\n\n            const apps = this.state.sorted_app.map((d) => \n            <div> {this.renderAppDetails(d)} </div>\n            );\n            return (\n                <div>{apps}</div>\n            );\n        }\n    }\n\n    render() {\n\n        return (\n            <div>\n                <a className=\"btn btn-primary col px-md-5 p-3 border\" data-toggle=\"collapse\" href=\"#collapseExample\" role=\"button\" aria-expanded=\"false\" aria-controls=\"collapseExample\">\n                    Filter\n                </a>\n                <div className=\"flex-row collapse\" id=\"collapseExample\">\n                <div className=\"d-flex flex-row\">\n                    <div className=\"d-flex flex-column p-4\">\n                        <div>\n                            <label>Sort by: {this.state.sortby}</label>\n                            <DropdownButton alignRight title=\"Sort by\" id=\"dropdown\" value={this.state.sortby} onSelect={this.onChangeSortBy} >\n                                <Dropdown.Item eventKey=\"Rating\">Rating</Dropdown.Item>\n                                <Dropdown.Divider />\n                                <Dropdown.Item eventKey=\"Name\">Name</Dropdown.Item>\n                                <Dropdown.Divider />\n                                <Dropdown.Item eventKey=\"Date\">Application date</Dropdown.Item>\n                            </DropdownButton>\n                        </div>\n                        <div>\n                            <label>Sort in: {this.state.sortin}</label>\n                            <DropdownButton alignRight title=\"Sort in\" id=\"dropdown\" value={this.state.sortin} onSelect={this.onChangeSortIn} >\n                                <Dropdown.Item eventKey=\"asc\">Ascending</Dropdown.Item>\n                                <Dropdown.Divider />\n                                <Dropdown.Item eventKey=\"des\">Descending</Dropdown.Item>\n                            </DropdownButton>\n                        </div>\n                        <div className=\"p-2\">\n                            <Button size=\"sm\" variant=\"outline-primary\" onClick={() => this.onSort(this.state.sortby , this.state.sortin)}>Sort</Button>\n                        </div>\n                    </div>\n                </div>\n                </div>\n\n                <div className=\"p-4 align-self-center\">{this.renderApps()}</div>\n            </div>\n        )\n    }\n\n}\n\nexport default withRouter(appViewJob);"]},"metadata":{},"sourceType":"module"}