{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/karthik/Desktop/linkedin-clone/frontend/src/components/login.component.js\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { withRouter } from \"react-router-dom\";\n\nconst jwt = require('jsonwebtoken');\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChangeEmail = this.onChangeEmail.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.state = {\n      email: '',\n      password: ''\n    };\n  }\n\n  onChangeEmail(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  onChangePassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const loginCred = {\n      email: this.state.email,\n      password: this.state.password\n    };\n    axios.post(\"http://localhost:5000/users/login\", loginCred).then(result => {\n      const tokens = {\n        token: result.data.token\n      };\n      console.log(result.data);\n\n      if (result.data.token) {\n        localStorage.setItem(\"token\", result.data.token);\n        localStorage.setItem(\"type\", result.data.user.type);\n        this.props.history.push('/dashboard');\n      } else {\n        alert(\"Wrong Credentials\");\n        this.props.history.push('/');\n      }\n    }).catch(error => console.log(error));\n    console.log(loginCred);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: \"form-control\",\n            value: this.state.email,\n            onChange: this.onChangeEmail\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            value: this.state.password,\n            onChange: this.onChangePassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            value: \"Login\",\n            className: \"btn btn-primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(Login);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/karthik/Desktop/linkedin-clone/frontend/src/components/login.component.js"],"names":["axios","React","Component","Link","withRouter","jwt","require","Login","constructor","props","onSubmit","bind","onChangeEmail","onChangePassword","state","email","password","e","setState","target","value","preventDefault","loginCred","post","then","result","tokens","token","data","console","log","localStorage","setItem","user","type","history","push","alert","catch","error","render"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,sCAAP;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AACA,MAAMC,GAAG,GAAGC,OAAO,CAAC,cAAD,CAAnB;;AAIA,MAAMC,KAAN,SAAoBL,SAApB,CAA8B;AAC1BM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKE,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBF,IAAtB,CAA2B,IAA3B,CAAxB;AAEA,SAAKG,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE,EADE;AAETC,MAAAA,QAAQ,EAAE;AAFD,KAAb;AAIH;;AAEDJ,EAAAA,aAAa,CAACK,CAAD,EAAI;AACb,SAAKC,QAAL,CAAc;AACVH,MAAAA,KAAK,EAAEE,CAAC,CAACE,MAAF,CAASC;AADN,KAAd;AAGH;;AAEDP,EAAAA,gBAAgB,CAACI,CAAD,EAAI;AAChB,SAAKC,QAAL,CAAc;AACVF,MAAAA,QAAQ,EAAEC,CAAC,CAACE,MAAF,CAASC;AADT,KAAd;AAGH;;AAEDV,EAAAA,QAAQ,CAACO,CAAD,EAAI;AACRA,IAAAA,CAAC,CAACI,cAAF;AAEA,UAAMC,SAAS,GAAG;AACdP,MAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KADJ;AAEdC,MAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWE;AAFP,KAAlB;AAKAhB,IAAAA,KAAK,CAACuB,IAAN,CAAW,mCAAX,EAAgDD,SAAhD,EAA2DE,IAA3D,CAAgEC,MAAM,IAAI;AACtE,YAAMC,MAAM,GAAG;AACXC,QAAAA,KAAK,EAAEF,MAAM,CAACG,IAAP,CAAYD;AADR,OAAf;AAGCE,MAAAA,OAAO,CAACC,GAAR,CAAYL,MAAM,CAACG,IAAnB;;AACD,UAAGH,MAAM,CAACG,IAAP,CAAYD,KAAf,EAAqB;AACjBI,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA+BP,MAAM,CAACG,IAAP,CAAYD,KAA3C;AACAI,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA8BP,MAAM,CAACG,IAAP,CAAYK,IAAZ,CAAiBC,IAA/C;AACA,aAAKzB,KAAL,CAAW0B,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACH,OAJD,MAKI;AACAC,QAAAA,KAAK,CAAC,mBAAD,CAAL;AACA,aAAK5B,KAAL,CAAW0B,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACH;AACJ,KAdD,EAeCE,KAfD,CAeOC,KAAK,IAAIV,OAAO,CAACC,GAAR,CAAYS,KAAZ,CAfhB;AAgBAV,IAAAA,OAAO,CAACC,GAAR,CAAYR,SAAZ;AACH;;AAEDkB,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAA,6BACA;AAAM,QAAA,QAAQ,EAAE,KAAK9B,QAArB;AAAA,gCAEI;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,IAAI,EAAC,OAAZ;AAAoB,YAAA,SAAS,EAAC,cAA9B;AAA6C,YAAA,KAAK,EAAE,KAAKI,KAAL,CAAWC,KAA/D;AAAsE,YAAA,QAAQ,EAAE,KAAKH;AAArF;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAOI;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,IAAI,EAAC,UAAZ;AAAuB,YAAA,SAAS,EAAC,cAAjC;AAAgD,YAAA,KAAK,EAAE,KAAKE,KAAL,CAAWE,QAAlE;AAA4E,YAAA,QAAQ,EAAE,KAAKH;AAA3F;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPJ,eAYI;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA,iCACI;AAAO,YAAA,IAAI,EAAC,QAAZ;AAAqB,YAAA,KAAK,EAAC,OAA3B;AAAmC,YAAA,SAAS,EAAC;AAA7C;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAZJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YADJ;AAoBH;;AAzEyB;;AA6E9B,oBAAeT,UAAU,CAACG,KAAD,CAAzB","sourcesContent":["import axios from 'axios';\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { withRouter } from \"react-router-dom\";\nconst jwt = require('jsonwebtoken');\n\n\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.onChangeEmail = this.onChangeEmail.bind(this);\n        this.onChangePassword = this.onChangePassword.bind(this);\n\n        this.state = {\n            email: '',\n            password: ''\n        }\n    }\n\n    onChangeEmail(e) {\n        this.setState({\n            email: e.target.value\n        });\n    }\n\n    onChangePassword(e) {\n        this.setState({\n            password: e.target.value\n        });\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n\n        const loginCred = {\n            email: this.state.email,\n            password: this.state.password\n        }\n\n        axios.post(\"http://localhost:5000/users/login\", loginCred).then(result => { \n            const tokens = {\n                token: result.data.token\n             }; \n             console.log(result.data);\n            if(result.data.token){\n                localStorage.setItem(\"token\" , result.data.token);\n                localStorage.setItem(\"type\" , result.data.user.type);\n                this.props.history.push('/dashboard');\n            }\n            else{\n                alert(\"Wrong Credentials\");\n                this.props.history.push('/');\n            }\n        })\n        .catch(error => console.log(error));\n        console.log(loginCred);\n    }\n\n    render(){\n        return (\n            <div>\n            <form onSubmit={this.onSubmit}>\n\n                <div className=\"form-group\">\n                    <label>Email:</label>\n                    <input type=\"email\" className=\"form-control\" value={this.state.email} onChange={this.onChangeEmail} />\n                </div>\n\n                <div className=\"form-group\">\n                    <label>Password:</label>\n                    <input type=\"password\" className=\"form-control\" value={this.state.password} onChange={this.onChangePassword} />\n                </div>\n                \n                <div className=\"form-group\">\n                    <input type=\"submit\" value=\"Login\" className=\"btn btn-primary\" />\n                </div>\n            </form>\n            </div>\n        )\n    }\n\n}\n\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}